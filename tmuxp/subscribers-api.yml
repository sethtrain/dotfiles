session_name: subscribers
start_directory: ~/projects/emma/subscribers-api
shell_command_before:
  - workon subscribers-api
environment:
  POSTGRES_DB: subscribers
  POSTGRES_USER: subscribers
  POSTGRES_PASSWORD: password
  PGDATA: /var/lib/postgresql/data/pgdata
  SQITCH_PASSWORD: password
windows:
  - window_name: shell
    panes:
      - blank
  - window_name: vim
    panes:
      - shell_command: vim
  - window_name: docker
    panes:
      - docker-compose up
  - window_name: server
    panes:
      - python runserver.py
  - window_name: sqitch
    start_directory: ~/projects/emma/subscribers-api/sqitch
    panes:
      - blank
  - window_name: psql
    panes:
      - psql -h localhost -U $POSTGRES_USER -d $POSTGRES_DB

